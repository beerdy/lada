!function(){function e(e,t,s){var r=e.join(" ");r=r.replace(/(,|>|\+|~)/g," "),r=r.replace(/\[[^\]]*/g,""),r=r.replace(/#[^\s]*/g,""),r=r.replace(/\:{1,2}[^\s]*/g,""),r=r.replace(/\s+/g," ");for(var n=r.split(" "),l=[],o=0;o<n.length;o++){var c=n[o];s.test(c)&&!t.test(c)&&-1==CKEDITOR.tools.indexOf(l,c)&&l.push(c)}return l}function t(t,s,r){var n,l=[],o=[];for(n=0;n<t.styleSheets.length;n++){var c=t.styleSheets[n];if(!(c.ownerNode||c.owningElement).getAttribute("data-cke-temp")&&(!c.href||"chrome://"!=c.href.substr(0,9)))try{for(var a=c.cssRules||c.rules,i=0;i<a.length;i++)o.push(a[i].selectorText)}catch(e){}}var u=e(o,s,r);for(n=0;n<u.length;n++){var f=u[n].split("."),g=f[0].toLowerCase(),h=f[1];l.push({name:g+"."+h,element:g,attributes:{"class":h}})}return l}CKEDITOR.plugins.add("stylesheetparser",{init:function(e){e.filter.disable();var s;e.once("stylesSet",function(r){r.cancel(),e.once("contentDom",function(){e.getStylesSet(function(r){var n=e.config.stylesheetParser_skipSelectors||/(^body\.|^\.)/i,l=e.config.stylesheetParser_validSelectors||/\w+\.\w+/;s=r.concat(t(e.document.$,n,l)),e.getStylesSet=function(e){if(s)return e(s)},e.fire("stylesSet",{styles:s})})})},null,null,1)}})}();